var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Activity=function(t){function e(){var e=t.call(this)||this;return e._number=10,e.initActivity(),e}return __extends(e,t),e.prototype.initActivity=function(){this.createBackGround(),this.viewStack=new eui.ViewStack,this.viewStack.width=Data.GetStageWidth(),this.viewStack.height=Data.GetStageHeight(),this.viewStack.selectedIndex=0,this.addChild(this.viewStack)},e.prototype.createBackGround=function(){var t,e;t=RES.getRes("background_png"),e=new egret.Bitmap(t),e.width=Data.GetStageWidth(),e.height=Data.GetStageHeight(),this.addChildAt(e,0)},e.prototype.createScrollView=function(t,e,i){var r=new ScrollView(t,e,i);return r.width=Data.GetStageWidth(),r.height=Data.GetStageHeight(),this.viewStack.addChild(r),r},e.prototype.createOutLook=function(t){this._Outlook=new OutLook,this._Outlook.setScorlView(this.viewStack),this.addChild(this._Outlook)},e.prototype.createQuitBar=function(t,e){this._quitLook=new QuitLook(e),this._quitLook.y=t,this.addChild(this._quitLook)},e.prototype.getOutLook=function(){return this._Outlook},e.prototype.getScrollView=function(t){return this.viewStack.getChildAt(t)},e}(egret.DisplayObjectContainer);__reflect(Activity.prototype,"Activity");var BeginPage=function(t){function e(){var e=t.call(this)||this;return e.createBackGround(),e}return __extends(e,t),e.prototype.createBackGround=function(){var t,e;t=RES.getRes("Item_jpg"),e=new egret.Bitmap(t),e.width=Data.GetStageWidth(),e.height=Data.GetStageHeight(),this.addChildAt(e,0)},e}(egret.DisplayObjectContainer);__reflect(BeginPage.prototype,"BeginPage");var Button=function(t){function e(){var e=t.call(this)||this;return e.draw(),e}return __extends(e,t),e.prototype.draw=function(){this._text=new egret.TextField,this._text.width=Data.GetStageWidth()/5,this._text.height=Data.GetStageHeight()/20,this._text.size=26,this._text.text="全部",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.verticalAlign=egret.VerticalAlign.MIDDLE,this._text.textColor=0,this.addChildAt(this._text,20)},e}(eui.Button);__reflect(Button.prototype,"Button");var Data=function(){function t(){}return t.GetStageWidth=function(){return 0==t._stageWidth&&(t._stageWidth=egret.MainContext.instance.stage.stageWidth),t._stageWidth},t.GetStageHeight=function(){return 0==t._stageHeight&&(t._stageHeight=egret.MainContext.instance.stage.stageHeight),t._stageHeight},t.GetEarthHeight=function(){return 6*t.GetStageHeight()/7},t.GetScore=function(){return t._score},t.AddScore=function(){t._score+=1},t.GetPipeX=function(){return t.GetStageWidth()/4},t}();Data._stageWidth=0,Data._stageHeight=0,Data._score=0,Data._monsterSize=20,Data._EarthWidth=10,Data._moveSpeed=5,Data._DeadNum=0,Data._monsterNum=0,Data._money=100,__reflect(Data.prototype,"Data");var HttpMethod=function(){function t(){}return t.prototype.sendGetRequest=function(t){this._request=new egret.HttpRequest,this._request.responseType=egret.HttpResponseType.TEXT,this._request.open(t,egret.HttpMethod.GET),this._request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._request.send()},t.prototype.setText=function(t){this.text=t},t}();__reflect(HttpMethod.prototype,"HttpMethod");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function r(r){e.call(i,r,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?r(o):RES.getResAsync(t,r,this)}else RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(t){function e(){var e=t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.testData=function(){this._arrary=new Array,this._arrary.push(["法国警察射杀中国公民被关押 26名华人获释","1"]),this._arrary.push(["辽宁辽阳瞒报洪灾遇难人数：当初没人统计伤亡","1"]),this._arrary.push(["ScrollView 的其他设置","1"]),this._arrary.push(["4月1日起，一批新的法律法规将影响我们的生活","1"]),this._arrary.push(["消息称国产航母4月23日下水 电磁拦阻技术比肩美国","1"]),this._arrary.push(["辉山乳业否认大股东挪用30亿元 确认高管葛坤失联","1"]),this._arrary.push(["致国足：虽然输了，但还没有到挥手说再见的时候","1"]),this._arrary.push(["上海：男子私占共享单车 被判拘役4个月罚金2000","1"]),this._arrary.push(["国台办：台湾民进党前党工李明哲在大陆被查","1"]),this._arrary.push(["为形状加入物理特性","1"]),this._arrary.push(["将刚体加入物理世界","1"])},e.prototype.startCreateScene=function(){var t=new HttpMethod;t.sendGetRequest("http://127.0.0.1:3000/CameraInfo?queryType=0"),t._request.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this),t._request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),t._request.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this),this.mainAcitivity=new Activity,this.mainAcitivity.createScrollView(Data.GetStageHeight()/10*2,Data.GetStageWidth(),Data.GetStageHeight()/10*8),this.mainAcitivity.createScrollView(Data.GetStageHeight()/10*2,Data.GetStageWidth(),Data.GetStageHeight()/10*8),this.mainAcitivity.createOutLook(Data.GetStageHeight()/10*2),this.addChild(this.mainAcitivity),this.testData();var e=this.mainAcitivity.getScrollView(0).createGird(Data.GetStageWidth(),Data.GetStageHeight()/7+5,10,1,this._arrary);this.mainAcitivity.getScrollView(0).setScorllViewContent(e)},e.prototype.onGetComplete=function(t){var e=t.currentTarget;if(null!=e.response){var i=this.mainAcitivity.getScrollView(0).createGird(Data.GetStageWidth(),Data.GetStageHeight()/7+5,10,1,this._arrary);this.mainAcitivity.getScrollView(0).setScorllViewContent(i)}},e.prototype.onGetIOError=function(t){console.log("get error : "+t)},e.prototype.onGetProgress=function(t){console.log("get progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},e}(eui.UILayer);__reflect(Main.prototype,"Main");var OutLook=function(t){function e(){var e=t.call(this)||this;return e._index=1,e.initOutLook(),e}return __extends(e,t),e.prototype.initOutLook=function(){this._buttonInfo=new Array,this._buttonInfo.push("推荐"),this._buttonInfo.push("测试"),this._buttonArray=new Array,this._text=new egret.TextField,this._text.width=Data.GetStageWidth(),this._text.height=Data.GetStageHeight()/10*2,this._text.size=26,this._text.text="导航栏",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textColor=0,this.addChildAt(this._text,20);for(var t=0;2>t;t++){var e=new Button;e.skinName="resource/eui_skins/ButtonSkin.exml",e.x+=t*(Data.GetStageWidth()/5)+5,e.y=Data.GetStageHeight()/10*2-Data.GetStageHeight()/20,e._text.text=this._buttonInfo[t],this.addChild(e),e._url="http://127.0.0.1:3000/CameraInfo?queryType=0",e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchFunc,this),this._buttonArray.push(e)}this.createBackGround(),this.testData()},e.prototype.createBackGround=function(){var t,e;t=RES.getRes("Item2_jpg"),e=new egret.Bitmap(t),e.width=Data.GetStageWidth(),e.height=Data.GetStageHeight()/10*2,this.addChildAt(e,0)},e.prototype.touchFunc=function(t){for(var e=0;2>e;e++)t.target==this._buttonArray[e]&&null!=this._ScorlView&&(this._ScorlView.selectedIndex=e,this._index=e);var i=new HttpMethod;i.sendGetRequest("http://127.0.0.1:3000/CameraInfo?queryType=0"),i._request.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this),i._request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),i._request.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this);var r=this.parent,o=r.getScrollView(this._index).createGird(Data.GetStageWidth(),Data.GetStageHeight()/7+5,10,1,this._arrary);r.getScrollView(this._index).setScorllViewContent(o)},e.prototype.testData=function(){this._arrary=new Array,this._arrary.push(["法国警察射杀中国公民被关押 26名华人获释","1"]),this._arrary.push(["辽宁辽阳瞒报洪灾遇难人数：当初没人统计伤亡","1"]),this._arrary.push(["ScrollView 的其他设置","1"]),this._arrary.push(["4月1日起，一批新的法律法规将影响我们的生活","1"]),this._arrary.push(["消息称国产航母4月23日下水 电磁拦阻技术比肩美国","1"]),this._arrary.push(["辉山乳业否认大股东挪用30亿元 确认高管葛坤失联","1"]),this._arrary.push(["致国足：虽然输了，但还没有到挥手说再见的时候","1"]),this._arrary.push(["上海：男子私占共享单车 被判拘役4个月罚金2000","1"]),this._arrary.push(["国台办：台湾民进党前党工李明哲在大陆被查","1"]),this._arrary.push(["为形状加入物理特性","1"]),this._arrary.push(["将刚体加入物理世界","1"])},e.prototype.onGetComplete=function(t){var e=t.currentTarget;if(null!=e.response){var i=this.parent,r=i.getScrollView(this._index).createGird(Data.GetStageWidth(),Data.GetStageHeight()/7+5,10,1,this._arrary);i.getScrollView(this._index).setScorllViewContent(r)}},e.prototype.onGetIOError=function(t){console.log("get error : "+t)},e.prototype.onGetProgress=function(t){console.log("get progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},e.prototype.setScorlView=function(t){this._ScorlView=t},e}(egret.Sprite);__reflect(OutLook.prototype,"OutLook");var QuitLook=function(t){function e(e){var i=t.call(this)||this;return i.initOutLook(e),i}return __extends(e,t),e.prototype.initOutLook=function(t){this._buttonArray=new Array,this._text=new egret.TextField,this._text.width=Data.GetStageWidth(),this._text.height=t,this._text.size=26,this._text.text="退出",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textColor=0,this.addChildAt(this._text,20);var e=new Button;e.skinName="resource/eui_skins/ButtonSkin.exml",e._text.text="quit",e.x=10,e.y=10,this.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchFunc,this),this._buttonArray.push(e),this.createBackGround()},e.prototype.createBackGround=function(){this.graphics.lineStyle(3,11250603),this.graphics.beginFill(16777215,1),this.graphics.drawRect(0,0,Data.GetStageWidth(),Data.GetStageHeight()/10),this.graphics.endFill()},e.prototype.touchFunc=function(t){this.parent.parent&&this.parent.parent.removeChild(this.parent)},e.prototype.setScorlView=function(t){this._ScorlView=t},e}(egret.Sprite);__reflect(QuitLook.prototype,"QuitLook");var ScrollView=function(t){function e(e,i,r){var o=t.call(this)||this;return o._number=10,o._pullEnable=!0,o.createScene(e,i,r),o}return __extends(e,t),e.prototype.createScene=function(t,e,i){this._ScorlView=new egret.ScrollView,this._ScorlView.width=e,this._ScorlView.height=i,this._ScorlView.y=t,this._ScorlView.verticalScrollPolicy="on",this._ScorlView.horizontalScrollPolicy="off",this._ScorlView.scrollBeginThreshold=300,this.addChild(this._ScorlView),this._ScorlView.addEventListener(egret.Event.COMPLETE,this.onComplete,this),this._ScorlView.addEventListener(egret.Event.CHANGE,this.onChange,this)},e.prototype.setArrayData=function(t){this._arrary=t},e.prototype.setScorllViewContent=function(t){this.content=t,this._ScorlView.setContent(t)},e.prototype.createGird=function(t,e,i,r,o){for(var n=new egret.Sprite,a=0;i>a;a++)for(var s=0;r>s;s++){var h=new textFd;h.creatTextField(10,10,t-20,e),h.x=s*t,h.y=a*e,n.addChild(h),h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchFunc,this),null!=o&&(h.setText(o[a][0]),h.setUrl(o[a][1]))}return n},e.prototype.touchFunc=function(t){var e=t.target;if(""!=e._url){var i=new HttpMethod;i.sendGetRequest("http://127.0.0.1:3000/CameraInfo?queryType=0"),i._request.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this),i._request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),i._request.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this),this.subactivity=new Activity,this.subactivity.x=Data.GetStageWidth();var r=this.subactivity.createScrollView(0,Data.GetStageWidth(),Data.GetStageHeight()/10*9);r._pullEnable=!1,this.subactivity.createQuitBar(Data.GetStageHeight()-Data.GetStageHeight()/10,Data.GetStageHeight()/10),this.parent.parent.addChild(this.subactivity);var o=egret.Tween.get(this.subactivity);o.to({x:0},300);var n=new Array;n.push(["中新网4月1日电 综合报道，当地时间31日凌晨，                              随着首尔中央地方法院一纸逮捕令签发，韩国前总统朴槿惠再次跌入人生低谷。                              从“前总统长女”到“选举女王”，再到韩国首位女总统，                              朴槿惠用了将近20年的时间，登上了韩国政坛的顶峰。岂料“亲信门”的曝光，                              让她的形象迅速崩塌，最终也把她拖下总统宝座。                              而今，随着看守所的铁门关闭，朴槿惠的政治生涯也将画上句号。",""]);var a=this.subactivity.getScrollView(0).createGird(Data.GetStageWidth(),Data.GetStageHeight(),1,1,n);this.subactivity.getScrollView(0).setScorllViewContent(a)}},e.prototype.onGetComplete=function(t){var e=t.currentTarget;if(null!=e.response){var i=this.subactivity.getScrollView(0).createGird(Data.GetStageWidth(),Data.GetStageHeight(),1,1,this._arrary);this.subactivity.getScrollView(0).setScorllViewContent(i)}},e.prototype.onGetIOError=function(t){console.log("get error : "+t)},e.prototype.onGetProgress=function(t){console.log("get progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},e.prototype.onComplete=function(t){if(console.log("on Complete"+this._ScorlView.scrollTop),0!=this._ScorlView.scrollTop&&1==this._pullEnable){var e=new textFd;e.creatTextField(10,10,Data.GetStageWidth()-20,Data.GetStageHeight()/7+5),e.y=this._number*(Data.GetStageHeight()/7+5),++this._number,e.setText("Add New Text"),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchFunc,this),e.touchEnabled=!0,e.setUrl("123"),this.content.addChild(e)}},e.prototype.onChange=function(t){1==this._pullEnable&&console.log("on Change")},e}(egret.DisplayObjectContainer);__reflect(ScrollView.prototype,"ScrollView");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,r){function o(t){e.call(r,t)}function n(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),i.call(r))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var textFd=function(t){function e(){var e=t.call(this)||this;return e.initTextField(),e}return __extends(e,t),e.prototype.initTextField=function(){this._text=new egret.TextField,this._url=new String,this._url=""},e.prototype.creatTextField=function(t,e,i,r){this.graphics.lineStyle(3,11250603),this.graphics.beginFill(16777215,.3),this.graphics.drawRect(0,0,Data.GetStageWidth(),r),this.graphics.endFill(),this._text.x=t,this._text.y=e,this._text.width=i,this._text.height=r,this._text.size=26,this._text.text="NULL",this._text.textColor=0,this.addChildAt(this._text,20)},e.prototype.setText=function(t){this._text.text=t},e.prototype.setUrl=function(t){this._url=t},e}(egret.Sprite);__reflect(textFd.prototype,"textFd");